{
    "country_code": "fr",
    "source_db":{
        "host":"babylone3.ign.fr",
        "port":"5433",
        "name":"bduni_diffusion",
        "user":"invite",
        "pwd":"28de#",
        "schema": "public"
    },
    "source_srid": "CASE gcms_territoire WHEN 'FXX' THEN 2154 WHEN 'GLP' THEN 4559 WHEN 'GUF' THEN 2972 WHEN 'H_T' THEN 4326 WHEN 'MTQ' THEN 4559 WHEN 'MYT' THEN 4471 WHEN 'REU' THEN 2975 WHEN 'SPM' THEN 4467 END",
    "target_db":{
        "host":"10.128.35.60",
        "port":"5432",
        "name":"ome2_hvlsp_v1",
        "user":"ome2_user",
        "pwd":"ome2_user",
        "schema": "au"
    },
    "target_country_field": "country",
    "target_tables": {
        "administrative_unit_area":{
            "mock": true,
            "source_tables":{
                "commune": {
                    "mock": false,
                    "where": "gcms_territoire != 'H_T' AND NOT gcms_detruit AND code_insee NOT IN ('75056', '13055', '69123')",
                    "mapping": {
                        "country": { "function": "fr_country_code" },
                        "national_code": "code_insee",
                        "national_level": { "eval": "'5th_order'" },
                        "name": { "function": "fr_au_name"},
                        "shn_code": { "function": "fr_shn_code" },
                        "w_national_identifier": "cleabs"

                    },
                    "geomapping":{
                        "geom": {
                            "geometrie_ge": {
                                "transform": "ST_Force2D(${})"
                            }
                        }
                    },
                    "fetched_fields":[
                        "gcms_territoire",
                        "code_insee",
                        "code_insee_de_l_arrondissement",
                        "code_insee_du_departement",
                        "code_insee_de_la_region",
                        "nom_officiel"
                    ]
                }
            }
        },
        "administrative_unit_5":{
            "mock": true,
            "source_tables":{
                "commune": {
                    "mock": false,
                    "where": "NOT gcms_detruit AND code_insee NOT IN ('75056', '13055', '69123')",
                    "mapping": {
                        "country": { "function": "fr_country_code" },
                        "national_code": "code_insee",
                        "shn_code": { "function": "fr_shn_code" }
                    },
                    "geomapping":{
                        "geom": {
                            "geometrie_ge": {
                                "transform": "ST_Force2D(${})"
                            }
                        }
                    },
                    "fetched_fields":[
                        "gcms_territoire",
                        "code_insee",
                        "code_insee_de_l_arrondissement",
                        "code_insee_du_departement",
                        "code_insee_de_la_region"
                    ]
                }
            }
        },
        "administrative_unit_1":{
            "mock": false,
            "source_tables":{
                "etat": {
                    "mock": false,
                    "where": "(code_insee = 'XXXXX' OR code_insee = '99138') AND NOT gcms_detruit",
                    "mapping": {
                        "country": { "function": "fr_country_code" },
                        "national_code": "code_insee"                        
                    },
                    "geomapping":{
                        "geom": {
                            "geometrie_ge": {
                                "transform": "ST_Force2D(${})"
                            }
                        }
                    },
                    "fetched_fields":[
                        "gcms_territoire",
                        "code_insee"
                    ]
                }
            }
        }
       
    }
}
